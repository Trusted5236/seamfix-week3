<div class="product-list-container">
  
  <!-- Search Bar Section -->
  <div class="search-section">
    <div class="search-wrapper">
      <input 
        type="text" 
        class="search-input"
        [(ngModel)]="searchTerm"
        (input)="onSearch()"
        placeholder="Search for products..."
      />
      <span class="search-icon">üîç</span>
    </div>
    
    <!-- Search Results Info -->
    <div class="search-info" *ngIf="searchTerm">
      <p>Showing {{ filteredProducts.length }} results for "{{ searchTerm }}"</p>
    </div>
  </div>

  <!-- Loading State -->
  <div class="loading-state" *ngIf="loading">
    <div class="spinner"></div>
    <p>Loading products...</p>
  </div>

  <!-- Products Grid -->
  <div class="products-grid" *ngIf="!loading">
    <div 
      *ngFor="let product of filteredProducts"
      class="product-wrapper"
    >
      <div 
        class="product-card"
        [class.selected-card]="isSelected(product.id)"
        [routerLink]="['/products', product.id]"
        [queryParams]="{ category: product.category }"
      >
        <!-- Product Image -->
        <div class="product-image-wrapper">
          <img 
            [src]="product.imageUrl" 
            [alt]="product.name"
            class="product-image"
          />
          <span 
            class="stock-badge"
            [class.in-stock]="product.inStock"
            [class.out-of-stock]="!product.inStock"
          >
            {{ product.inStock ? 'In Stock' : 'Out of Stock' }}
          </span>
        </div>

        <!-- Product Info -->
        <div class="product-info">
          <h3 class="product-name">{{ product.name }}</h3>
          <p class="product-description">{{ product.description }}</p>
          
          <div class="product-footer">
            <span class="product-price">{{ product.price | currency }}</span>
            <span class="product-rating">‚≠ê {{ product.rating }}</span>
          </div>

          <!-- Select Button -->
          <button 
            class="select-btn"
            [class.selected]="isSelected(product.id)"
            (click)="onProductSelect(product, $event)"
          >
            {{ isSelected(product.id) ? '‚úì Selected' : 'Select Product' }}
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- No Results Message -->
  <div class="no-results" *ngIf="!loading && filteredProducts.length === 0">
    <div class="no-results-icon">üîç</div>
    <h3>No products found</h3>
    <p>No products match your search "{{ searchTerm }}"</p>
    <button class="btn-clear" (click)="searchTerm = ''; onSearch()">
      Clear Search
    </button>
  </div>

</div>